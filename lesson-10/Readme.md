## План заняття

Кахут https://create.kahoot.it/details/c06d87ce-c070-44c8-869b-faef29dec82d

1. Створити функціонал для рефрешу сесії на основі рефреш токену із cookies

- Перевірка наявності сесії і асоційованого із нею користувача (чи існують)
- Перевірка валідності токену (чи він досі дійсний) базуючись на refreshTokenValidUntil
- Перестворити сесію, повернути на клієнт рефреш токен в cookies та access токен у тілі відповіді

2. Створити middleware для аутентифікаії користувачів в роутерах:

- Розказати про хедер Authorization та Bearer token
- В middleware authenticate із хедера Authorization дістати токен. При відсутності хедера, відсутності слова Bearer або токена кинути 401 помилку
- Перевірка наявності сесії і асоційованого із нею користувача (чи існують)
- Перевірка валідності токену (чи він досі дійсний) базуючись на accessTokenValidUntil
- Додавання користувача до обʼєкту запиту

3. Показати, як в можна дістати дані про користувача із обʼєкту запиту в контролерах та використати в сервісах для того, щоб більш точно працювати із записами (додати поле userId при створенні запиту студента, дати змогу взаємодіяти із вже створеними записами лише їх власнику)
4. Додати до моделі User ролі parent, teacher. На їх прикладі створити middleware, що бути перевіряти наявність ролей і давати можливість:

- викладачу робити будь-які дії без обмежень
- батькам проводити операції лише для своїх дітей
